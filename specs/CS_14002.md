# CS_14002

Upgrade equipment currently equipped on a ship.

## Request

`CS_14002 { ship_id, pos, lv }`

- `ship_id`: owned ship id (not template id)
- `pos`: 1-based equipment slot index
- `lv`: delta upgrade steps (targetLevel - currentLevel)

## Response

`SC_14003 { result }`

- `result == 0`: success
- `result != 0`: failure (no state changes persisted)

## Notes

- Upgrade costs/chain follow the same walk as bag upgrades (`CS_14004`): iterate `orm.Equipment.Next` for `lv` steps, consume `TransUseGold` and `TransUseItem` at each step.
- On success, server updates the ship slot's `equip_id` to the upgraded template id and preserves `skin_id`.
