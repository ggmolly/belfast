// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.28.0
// source: notices.sql

package gen

import (
	"context"

	"github.com/jackc/pgx/v5/pgconn"
)

const deleteNotice = `-- name: DeleteNotice :execresult
DELETE FROM notices
WHERE id = $1
`

func (q *Queries) DeleteNotice(ctx context.Context, id int64) (pgconn.CommandTag, error) {
	return q.db.Exec(ctx, deleteNotice, id)
}

const getNotice = `-- name: GetNotice :one
SELECT id, version, btn_title, title, title_image, time_desc, content, tag_type, icon, track
FROM notices
WHERE id = $1
`

func (q *Queries) GetNotice(ctx context.Context, id int64) (Notice, error) {
	row := q.db.QueryRow(ctx, getNotice, id)
	var i Notice
	err := row.Scan(
		&i.ID,
		&i.Version,
		&i.BtnTitle,
		&i.Title,
		&i.TitleImage,
		&i.TimeDesc,
		&i.Content,
		&i.TagType,
		&i.Icon,
		&i.Track,
	)
	return i, err
}

const upsertNotice = `-- name: UpsertNotice :exec

INSERT INTO notices (
  id,
  version,
  btn_title,
  title,
  title_image,
  time_desc,
  content,
  tag_type,
  icon,
  track
) VALUES (
  $1, $2, $3, $4, $5, $6, $7, $8, $9, $10
)
ON CONFLICT (id)
DO UPDATE SET
  version = EXCLUDED.version,
  btn_title = EXCLUDED.btn_title,
  title = EXCLUDED.title,
  title_image = EXCLUDED.title_image,
  time_desc = EXCLUDED.time_desc,
  content = EXCLUDED.content,
  tag_type = EXCLUDED.tag_type,
  icon = EXCLUDED.icon,
  track = EXCLUDED.track
`

type UpsertNoticeParams struct {
	ID         int64
	Version    string
	BtnTitle   string
	Title      string
	TitleImage string
	TimeDesc   string
	Content    string
	TagType    int64
	Icon       int64
	Track      string
}

// Notice queries
func (q *Queries) UpsertNotice(ctx context.Context, arg UpsertNoticeParams) error {
	_, err := q.db.Exec(ctx, upsertNotice,
		arg.ID,
		arg.Version,
		arg.BtnTitle,
		arg.Title,
		arg.TitleImage,
		arg.TimeDesc,
		arg.Content,
		arg.TagType,
		arg.Icon,
		arg.Track,
	)
	return err
}
