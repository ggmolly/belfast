// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.28.0
// source: core_inventory.sql

package gen

import (
	"context"

	"github.com/jackc/pgx/v5/pgconn"
)

const decrementCommanderItemIfEnough = `-- name: DecrementCommanderItemIfEnough :execresult

UPDATE commander_items
SET count = count - $3
WHERE commander_id = $1
  AND item_id = $2
  AND count >= $3
`

type DecrementCommanderItemIfEnoughParams struct {
	CommanderID int64
	ItemID      int64
	Count       int64
}

// Inventory/resource mutation queries (Milestone 4)
func (q *Queries) DecrementCommanderItemIfEnough(ctx context.Context, arg DecrementCommanderItemIfEnoughParams) (pgconn.CommandTag, error) {
	return q.db.Exec(ctx, decrementCommanderItemIfEnough, arg.CommanderID, arg.ItemID, arg.Count)
}

const decrementOwnedResourceIfEnough = `-- name: DecrementOwnedResourceIfEnough :execresult
UPDATE owned_resources
SET amount = amount - $3
WHERE commander_id = $1
  AND resource_id = $2
  AND amount >= $3
`

type DecrementOwnedResourceIfEnoughParams struct {
	CommanderID int64
	ResourceID  int64
	Amount      int64
}

func (q *Queries) DecrementOwnedResourceIfEnough(ctx context.Context, arg DecrementOwnedResourceIfEnoughParams) (pgconn.CommandTag, error) {
	return q.db.Exec(ctx, decrementOwnedResourceIfEnough, arg.CommanderID, arg.ResourceID, arg.Amount)
}

const incrementCommanderItem = `-- name: IncrementCommanderItem :exec
INSERT INTO commander_items (
  commander_id,
  item_id,
  count
) VALUES (
  $1, $2, $3
)
ON CONFLICT (commander_id, item_id)
DO UPDATE SET count = commander_items.count + EXCLUDED.count
`

type IncrementCommanderItemParams struct {
	CommanderID int64
	ItemID      int64
	Count       int64
}

func (q *Queries) IncrementCommanderItem(ctx context.Context, arg IncrementCommanderItemParams) error {
	_, err := q.db.Exec(ctx, incrementCommanderItem, arg.CommanderID, arg.ItemID, arg.Count)
	return err
}

const incrementOwnedResource = `-- name: IncrementOwnedResource :exec
INSERT INTO owned_resources (
  commander_id,
  resource_id,
  amount
) VALUES (
  $1, $2, $3
)
ON CONFLICT (commander_id, resource_id)
DO UPDATE SET amount = owned_resources.amount + EXCLUDED.amount
`

type IncrementOwnedResourceParams struct {
	CommanderID int64
	ResourceID  int64
	Amount      int64
}

func (q *Queries) IncrementOwnedResource(ctx context.Context, arg IncrementOwnedResourceParams) error {
	_, err := q.db.Exec(ctx, incrementOwnedResource, arg.CommanderID, arg.ResourceID, arg.Amount)
	return err
}

const upsertCommanderItemSet = `-- name: UpsertCommanderItemSet :exec
INSERT INTO commander_items (
  commander_id,
  item_id,
  count
) VALUES (
  $1, $2, $3
)
ON CONFLICT (commander_id, item_id)
DO UPDATE SET count = EXCLUDED.count
`

type UpsertCommanderItemSetParams struct {
	CommanderID int64
	ItemID      int64
	Count       int64
}

func (q *Queries) UpsertCommanderItemSet(ctx context.Context, arg UpsertCommanderItemSetParams) error {
	_, err := q.db.Exec(ctx, upsertCommanderItemSet, arg.CommanderID, arg.ItemID, arg.Count)
	return err
}

const upsertOwnedResourceSet = `-- name: UpsertOwnedResourceSet :exec
INSERT INTO owned_resources (
  commander_id,
  resource_id,
  amount
) VALUES (
  $1, $2, $3
)
ON CONFLICT (commander_id, resource_id)
DO UPDATE SET amount = EXCLUDED.amount
`

type UpsertOwnedResourceSetParams struct {
	CommanderID int64
	ResourceID  int64
	Amount      int64
}

func (q *Queries) UpsertOwnedResourceSet(ctx context.Context, arg UpsertOwnedResourceSetParams) error {
	_, err := q.db.Exec(ctx, upsertOwnedResourceSet, arg.CommanderID, arg.ResourceID, arg.Amount)
	return err
}
