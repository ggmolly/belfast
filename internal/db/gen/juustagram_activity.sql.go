// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.28.0
// source: juustagram_activity.sql

package gen

import (
	"context"
)

const countJuustagramNpcTemplates = `-- name: CountJuustagramNpcTemplates :one
SELECT COUNT(*)::bigint FROM juustagram_npc_templates
`

func (q *Queries) CountJuustagramNpcTemplates(ctx context.Context) (int64, error) {
	row := q.db.QueryRow(ctx, countJuustagramNpcTemplates)
	var column_1 int64
	err := row.Scan(&column_1)
	return column_1, err
}

const countJuustagramShipGroupTemplates = `-- name: CountJuustagramShipGroupTemplates :one
SELECT COUNT(*)::bigint FROM juustagram_ship_group_templates
`

func (q *Queries) CountJuustagramShipGroupTemplates(ctx context.Context) (int64, error) {
	row := q.db.QueryRow(ctx, countJuustagramShipGroupTemplates)
	var column_1 int64
	err := row.Scan(&column_1)
	return column_1, err
}

const countJuustagramTemplates = `-- name: CountJuustagramTemplates :one
SELECT COUNT(*)::bigint FROM juustagram_templates
`

func (q *Queries) CountJuustagramTemplates(ctx context.Context) (int64, error) {
	row := q.db.QueryRow(ctx, countJuustagramTemplates)
	var column_1 int64
	err := row.Scan(&column_1)
	return column_1, err
}

const createJuustagramMessageState = `-- name: CreateJuustagramMessageState :one
INSERT INTO juustagram_message_states (
  commander_id,
  message_id,
  is_read,
  is_good,
  good_count,
  updated_at
) VALUES (
  $1, $2, $3, $4, $5, $6
)
RETURNING id
`

type CreateJuustagramMessageStateParams struct {
	CommanderID int64
	MessageID   int64
	IsRead      int64
	IsGood      int64
	GoodCount   int64
	UpdatedAt   int64
}

func (q *Queries) CreateJuustagramMessageState(ctx context.Context, arg CreateJuustagramMessageStateParams) (int64, error) {
	row := q.db.QueryRow(ctx, createJuustagramMessageState,
		arg.CommanderID,
		arg.MessageID,
		arg.IsRead,
		arg.IsGood,
		arg.GoodCount,
		arg.UpdatedAt,
	)
	var id int64
	err := row.Scan(&id)
	return id, err
}

const getJuustagramLanguage = `-- name: GetJuustagramLanguage :one
SELECT key, value
FROM juustagram_languages
WHERE key = $1
`

func (q *Queries) GetJuustagramLanguage(ctx context.Context, key string) (JuustagramLanguage, error) {
	row := q.db.QueryRow(ctx, getJuustagramLanguage, key)
	var i JuustagramLanguage
	err := row.Scan(&i.Key, &i.Value)
	return i, err
}

const getJuustagramMessageState = `-- name: GetJuustagramMessageState :one
SELECT id, commander_id, message_id, is_read, is_good, good_count, updated_at
FROM juustagram_message_states
WHERE commander_id = $1
  AND message_id = $2
`

type GetJuustagramMessageStateParams struct {
	CommanderID int64
	MessageID   int64
}

func (q *Queries) GetJuustagramMessageState(ctx context.Context, arg GetJuustagramMessageStateParams) (JuustagramMessageState, error) {
	row := q.db.QueryRow(ctx, getJuustagramMessageState, arg.CommanderID, arg.MessageID)
	var i JuustagramMessageState
	err := row.Scan(
		&i.ID,
		&i.CommanderID,
		&i.MessageID,
		&i.IsRead,
		&i.IsGood,
		&i.GoodCount,
		&i.UpdatedAt,
	)
	return i, err
}

const getJuustagramNpcTemplate = `-- name: GetJuustagramNpcTemplate :one
SELECT id, ship_group, message_persist, npc_reply_persist, time_persist
FROM juustagram_npc_templates
WHERE id = $1
`

func (q *Queries) GetJuustagramNpcTemplate(ctx context.Context, id int64) (JuustagramNpcTemplate, error) {
	row := q.db.QueryRow(ctx, getJuustagramNpcTemplate, id)
	var i JuustagramNpcTemplate
	err := row.Scan(
		&i.ID,
		&i.ShipGroup,
		&i.MessagePersist,
		&i.NpcReplyPersist,
		&i.TimePersist,
	)
	return i, err
}

const getJuustagramPlayerDiscuss = `-- name: GetJuustagramPlayerDiscuss :one
SELECT id, commander_id, message_id, discuss_id, option_index, npc_reply_id, comment_time
FROM juustagram_player_discusses
WHERE commander_id = $1
  AND message_id = $2
  AND discuss_id = $3
`

type GetJuustagramPlayerDiscussParams struct {
	CommanderID int64
	MessageID   int64
	DiscussID   int64
}

func (q *Queries) GetJuustagramPlayerDiscuss(ctx context.Context, arg GetJuustagramPlayerDiscussParams) (JuustagramPlayerDiscuss, error) {
	row := q.db.QueryRow(ctx, getJuustagramPlayerDiscuss, arg.CommanderID, arg.MessageID, arg.DiscussID)
	var i JuustagramPlayerDiscuss
	err := row.Scan(
		&i.ID,
		&i.CommanderID,
		&i.MessageID,
		&i.DiscussID,
		&i.OptionIndex,
		&i.NpcReplyID,
		&i.CommentTime,
	)
	return i, err
}

const getJuustagramShipGroupTemplate = `-- name: GetJuustagramShipGroupTemplate :one
SELECT ship_group, name, background, sculpture, sculpture_ii, nationality, type
FROM juustagram_ship_group_templates
WHERE ship_group = $1
`

func (q *Queries) GetJuustagramShipGroupTemplate(ctx context.Context, shipGroup int64) (JuustagramShipGroupTemplate, error) {
	row := q.db.QueryRow(ctx, getJuustagramShipGroupTemplate, shipGroup)
	var i JuustagramShipGroupTemplate
	err := row.Scan(
		&i.ShipGroup,
		&i.Name,
		&i.Background,
		&i.Sculpture,
		&i.SculptureIi,
		&i.Nationality,
		&i.Type,
	)
	return i, err
}

const getJuustagramTemplate = `-- name: GetJuustagramTemplate :one

SELECT id, group_id, ship_group, name, sculpture, picture_persist, message_persist, is_active, npc_discuss_persist, time, time_persist
FROM juustagram_templates
WHERE id = $1
`

// Juustagram activity queries (templates + per-player state)
func (q *Queries) GetJuustagramTemplate(ctx context.Context, id int64) (JuustagramTemplate, error) {
	row := q.db.QueryRow(ctx, getJuustagramTemplate, id)
	var i JuustagramTemplate
	err := row.Scan(
		&i.ID,
		&i.GroupID,
		&i.ShipGroup,
		&i.Name,
		&i.Sculpture,
		&i.PicturePersist,
		&i.MessagePersist,
		&i.IsActive,
		&i.NpcDiscussPersist,
		&i.Time,
		&i.TimePersist,
	)
	return i, err
}

const listJuustagramLanguageByPrefix = `-- name: ListJuustagramLanguageByPrefix :many
SELECT key, value
FROM juustagram_languages
WHERE key LIKE $1
ORDER BY key ASC
`

func (q *Queries) ListJuustagramLanguageByPrefix(ctx context.Context, key string) ([]JuustagramLanguage, error) {
	rows, err := q.db.Query(ctx, listJuustagramLanguageByPrefix, key)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []JuustagramLanguage
	for rows.Next() {
		var i JuustagramLanguage
		if err := rows.Scan(&i.Key, &i.Value); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listJuustagramNpcTemplates = `-- name: ListJuustagramNpcTemplates :many
SELECT id, ship_group, message_persist, npc_reply_persist, time_persist
FROM juustagram_npc_templates
ORDER BY id ASC
OFFSET $1
LIMIT $2
`

type ListJuustagramNpcTemplatesParams struct {
	Offset int32
	Limit  int32
}

func (q *Queries) ListJuustagramNpcTemplates(ctx context.Context, arg ListJuustagramNpcTemplatesParams) ([]JuustagramNpcTemplate, error) {
	rows, err := q.db.Query(ctx, listJuustagramNpcTemplates, arg.Offset, arg.Limit)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []JuustagramNpcTemplate
	for rows.Next() {
		var i JuustagramNpcTemplate
		if err := rows.Scan(
			&i.ID,
			&i.ShipGroup,
			&i.MessagePersist,
			&i.NpcReplyPersist,
			&i.TimePersist,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listJuustagramOpReplies = `-- name: ListJuustagramOpReplies :many
SELECT id, ship_group, message_persist, npc_reply_persist, time_persist
FROM juustagram_npc_templates
WHERE message_persist LIKE $1
ORDER BY id ASC
`

func (q *Queries) ListJuustagramOpReplies(ctx context.Context, messagePersist string) ([]JuustagramNpcTemplate, error) {
	rows, err := q.db.Query(ctx, listJuustagramOpReplies, messagePersist)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []JuustagramNpcTemplate
	for rows.Next() {
		var i JuustagramNpcTemplate
		if err := rows.Scan(
			&i.ID,
			&i.ShipGroup,
			&i.MessagePersist,
			&i.NpcReplyPersist,
			&i.TimePersist,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listJuustagramPlayerDiscuss = `-- name: ListJuustagramPlayerDiscuss :many
SELECT id, commander_id, message_id, discuss_id, option_index, npc_reply_id, comment_time
FROM juustagram_player_discusses
WHERE commander_id = $1
  AND message_id = $2
ORDER BY discuss_id ASC
`

type ListJuustagramPlayerDiscussParams struct {
	CommanderID int64
	MessageID   int64
}

func (q *Queries) ListJuustagramPlayerDiscuss(ctx context.Context, arg ListJuustagramPlayerDiscussParams) ([]JuustagramPlayerDiscuss, error) {
	rows, err := q.db.Query(ctx, listJuustagramPlayerDiscuss, arg.CommanderID, arg.MessageID)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []JuustagramPlayerDiscuss
	for rows.Next() {
		var i JuustagramPlayerDiscuss
		if err := rows.Scan(
			&i.ID,
			&i.CommanderID,
			&i.MessageID,
			&i.DiscussID,
			&i.OptionIndex,
			&i.NpcReplyID,
			&i.CommentTime,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listJuustagramShipGroupTemplates = `-- name: ListJuustagramShipGroupTemplates :many
SELECT ship_group, name, background, sculpture, sculpture_ii, nationality, type
FROM juustagram_ship_group_templates
ORDER BY ship_group ASC
OFFSET $1
LIMIT $2
`

type ListJuustagramShipGroupTemplatesParams struct {
	Offset int32
	Limit  int32
}

func (q *Queries) ListJuustagramShipGroupTemplates(ctx context.Context, arg ListJuustagramShipGroupTemplatesParams) ([]JuustagramShipGroupTemplate, error) {
	rows, err := q.db.Query(ctx, listJuustagramShipGroupTemplates, arg.Offset, arg.Limit)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []JuustagramShipGroupTemplate
	for rows.Next() {
		var i JuustagramShipGroupTemplate
		if err := rows.Scan(
			&i.ShipGroup,
			&i.Name,
			&i.Background,
			&i.Sculpture,
			&i.SculptureIi,
			&i.Nationality,
			&i.Type,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listJuustagramTemplates = `-- name: ListJuustagramTemplates :many
SELECT id, group_id, ship_group, name, sculpture, picture_persist, message_persist, is_active, npc_discuss_persist, time, time_persist
FROM juustagram_templates
ORDER BY id ASC
OFFSET $1
LIMIT $2
`

type ListJuustagramTemplatesParams struct {
	Offset int32
	Limit  int32
}

func (q *Queries) ListJuustagramTemplates(ctx context.Context, arg ListJuustagramTemplatesParams) ([]JuustagramTemplate, error) {
	rows, err := q.db.Query(ctx, listJuustagramTemplates, arg.Offset, arg.Limit)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []JuustagramTemplate
	for rows.Next() {
		var i JuustagramTemplate
		if err := rows.Scan(
			&i.ID,
			&i.GroupID,
			&i.ShipGroup,
			&i.Name,
			&i.Sculpture,
			&i.PicturePersist,
			&i.MessagePersist,
			&i.IsActive,
			&i.NpcDiscussPersist,
			&i.Time,
			&i.TimePersist,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const updateJuustagramMessageState = `-- name: UpdateJuustagramMessageState :exec
UPDATE juustagram_message_states
SET is_read = $3,
    is_good = $4,
    good_count = $5,
    updated_at = $6
WHERE commander_id = $1
  AND message_id = $2
`

type UpdateJuustagramMessageStateParams struct {
	CommanderID int64
	MessageID   int64
	IsRead      int64
	IsGood      int64
	GoodCount   int64
	UpdatedAt   int64
}

func (q *Queries) UpdateJuustagramMessageState(ctx context.Context, arg UpdateJuustagramMessageStateParams) error {
	_, err := q.db.Exec(ctx, updateJuustagramMessageState,
		arg.CommanderID,
		arg.MessageID,
		arg.IsRead,
		arg.IsGood,
		arg.GoodCount,
		arg.UpdatedAt,
	)
	return err
}

const upsertJuustagramPlayerDiscuss = `-- name: UpsertJuustagramPlayerDiscuss :exec
INSERT INTO juustagram_player_discusses (
  commander_id,
  message_id,
  discuss_id,
  option_index,
  npc_reply_id,
  comment_time
) VALUES (
  $1, $2, $3, $4, $5, $6
)
ON CONFLICT (commander_id, message_id, discuss_id)
DO UPDATE SET
  option_index = EXCLUDED.option_index,
  npc_reply_id = EXCLUDED.npc_reply_id,
  comment_time = EXCLUDED.comment_time
`

type UpsertJuustagramPlayerDiscussParams struct {
	CommanderID int64
	MessageID   int64
	DiscussID   int64
	OptionIndex int64
	NpcReplyID  int64
	CommentTime int64
}

func (q *Queries) UpsertJuustagramPlayerDiscuss(ctx context.Context, arg UpsertJuustagramPlayerDiscussParams) error {
	_, err := q.db.Exec(ctx, upsertJuustagramPlayerDiscuss,
		arg.CommanderID,
		arg.MessageID,
		arg.DiscussID,
		arg.OptionIndex,
		arg.NpcReplyID,
		arg.CommentTime,
	)
	return err
}
