// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.28.0
// source: shop_state.sql

package gen

import (
	"context"
)

const createArenaShopState = `-- name: CreateArenaShopState :exec
INSERT INTO arena_shop_states (commander_id, flash_count, last_refresh_time, next_flash_time)
VALUES ($1, $2, $3, $4)
`

type CreateArenaShopStateParams struct {
	CommanderID     int64
	FlashCount      int64
	LastRefreshTime int64
	NextFlashTime   int64
}

func (q *Queries) CreateArenaShopState(ctx context.Context, arg CreateArenaShopStateParams) error {
	_, err := q.db.Exec(ctx, createArenaShopState,
		arg.CommanderID,
		arg.FlashCount,
		arg.LastRefreshTime,
		arg.NextFlashTime,
	)
	return err
}

const createDebugPacket = `-- name: CreateDebugPacket :exec

INSERT INTO debugs (packet_size, packet_id, data)
VALUES ($1, $2, $3)
`

type CreateDebugPacketParams struct {
	PacketSize int64
	PacketID   int64
	Data       []byte
}

// Debug packet capture
func (q *Queries) CreateDebugPacket(ctx context.Context, arg CreateDebugPacketParams) error {
	_, err := q.db.Exec(ctx, createDebugPacket, arg.PacketSize, arg.PacketID, arg.Data)
	return err
}

const createGuildShopGood = `-- name: CreateGuildShopGood :exec
INSERT INTO guild_shop_goods (commander_id, index, goods_id, count)
VALUES ($1, $2, $3, $4)
`

type CreateGuildShopGoodParams struct {
	CommanderID int64
	Index       int64
	GoodsID     int64
	Count       int64
}

func (q *Queries) CreateGuildShopGood(ctx context.Context, arg CreateGuildShopGoodParams) error {
	_, err := q.db.Exec(ctx, createGuildShopGood,
		arg.CommanderID,
		arg.Index,
		arg.GoodsID,
		arg.Count,
	)
	return err
}

const createGuildShopState = `-- name: CreateGuildShopState :exec
INSERT INTO guild_shop_states (commander_id, refresh_count, next_refresh_time)
VALUES ($1, $2, $3)
`

type CreateGuildShopStateParams struct {
	CommanderID     int64
	RefreshCount    int64
	NextRefreshTime int64
}

func (q *Queries) CreateGuildShopState(ctx context.Context, arg CreateGuildShopStateParams) error {
	_, err := q.db.Exec(ctx, createGuildShopState, arg.CommanderID, arg.RefreshCount, arg.NextRefreshTime)
	return err
}

const createMedalShopGood = `-- name: CreateMedalShopGood :exec
INSERT INTO medal_shop_goods (commander_id, index, goods_id, count)
VALUES ($1, $2, $3, $4)
`

type CreateMedalShopGoodParams struct {
	CommanderID int64
	Index       int64
	GoodsID     int64
	Count       int64
}

func (q *Queries) CreateMedalShopGood(ctx context.Context, arg CreateMedalShopGoodParams) error {
	_, err := q.db.Exec(ctx, createMedalShopGood,
		arg.CommanderID,
		arg.Index,
		arg.GoodsID,
		arg.Count,
	)
	return err
}

const createMedalShopState = `-- name: CreateMedalShopState :exec
INSERT INTO medal_shop_states (commander_id, next_refresh_time)
VALUES ($1, $2)
`

type CreateMedalShopStateParams struct {
	CommanderID     int64
	NextRefreshTime int64
}

func (q *Queries) CreateMedalShopState(ctx context.Context, arg CreateMedalShopStateParams) error {
	_, err := q.db.Exec(ctx, createMedalShopState, arg.CommanderID, arg.NextRefreshTime)
	return err
}

const createMiniGameShopGood = `-- name: CreateMiniGameShopGood :exec
INSERT INTO mini_game_shop_goods (commander_id, goods_id, count)
VALUES ($1, $2, $3)
`

type CreateMiniGameShopGoodParams struct {
	CommanderID int64
	GoodsID     int64
	Count       int64
}

func (q *Queries) CreateMiniGameShopGood(ctx context.Context, arg CreateMiniGameShopGoodParams) error {
	_, err := q.db.Exec(ctx, createMiniGameShopGood, arg.CommanderID, arg.GoodsID, arg.Count)
	return err
}

const createMiniGameShopState = `-- name: CreateMiniGameShopState :exec
INSERT INTO mini_game_shop_states (commander_id, next_refresh_time)
VALUES ($1, $2)
`

type CreateMiniGameShopStateParams struct {
	CommanderID     int64
	NextRefreshTime int64
}

func (q *Queries) CreateMiniGameShopState(ctx context.Context, arg CreateMiniGameShopStateParams) error {
	_, err := q.db.Exec(ctx, createMiniGameShopState, arg.CommanderID, arg.NextRefreshTime)
	return err
}

const createShoppingStreetGood = `-- name: CreateShoppingStreetGood :exec
INSERT INTO shopping_street_goods (commander_id, goods_id, discount, buy_count)
VALUES ($1, $2, $3, $4)
`

type CreateShoppingStreetGoodParams struct {
	CommanderID int64
	GoodsID     int64
	Discount    int64
	BuyCount    int64
}

func (q *Queries) CreateShoppingStreetGood(ctx context.Context, arg CreateShoppingStreetGoodParams) error {
	_, err := q.db.Exec(ctx, createShoppingStreetGood,
		arg.CommanderID,
		arg.GoodsID,
		arg.Discount,
		arg.BuyCount,
	)
	return err
}

const createShoppingStreetState = `-- name: CreateShoppingStreetState :exec
INSERT INTO shopping_street_states (commander_id, level, next_flash_time, level_up_time, flash_count)
VALUES ($1, $2, $3, $4, $5)
`

type CreateShoppingStreetStateParams struct {
	CommanderID   int64
	Level         int64
	NextFlashTime int64
	LevelUpTime   int64
	FlashCount    int64
}

func (q *Queries) CreateShoppingStreetState(ctx context.Context, arg CreateShoppingStreetStateParams) error {
	_, err := q.db.Exec(ctx, createShoppingStreetState,
		arg.CommanderID,
		arg.Level,
		arg.NextFlashTime,
		arg.LevelUpTime,
		arg.FlashCount,
	)
	return err
}

const deleteGuildShopGoodsByCommander = `-- name: DeleteGuildShopGoodsByCommander :exec
DELETE FROM guild_shop_goods
WHERE commander_id = $1
`

func (q *Queries) DeleteGuildShopGoodsByCommander(ctx context.Context, commanderID int64) error {
	_, err := q.db.Exec(ctx, deleteGuildShopGoodsByCommander, commanderID)
	return err
}

const deleteMedalShopGoodsByCommander = `-- name: DeleteMedalShopGoodsByCommander :exec
DELETE FROM medal_shop_goods
WHERE commander_id = $1
`

func (q *Queries) DeleteMedalShopGoodsByCommander(ctx context.Context, commanderID int64) error {
	_, err := q.db.Exec(ctx, deleteMedalShopGoodsByCommander, commanderID)
	return err
}

const deleteMiniGameShopGoodsByCommander = `-- name: DeleteMiniGameShopGoodsByCommander :exec
DELETE FROM mini_game_shop_goods
WHERE commander_id = $1
`

func (q *Queries) DeleteMiniGameShopGoodsByCommander(ctx context.Context, commanderID int64) error {
	_, err := q.db.Exec(ctx, deleteMiniGameShopGoodsByCommander, commanderID)
	return err
}

const deleteShoppingStreetGoodsByCommander = `-- name: DeleteShoppingStreetGoodsByCommander :exec
DELETE FROM shopping_street_goods
WHERE commander_id = $1
`

func (q *Queries) DeleteShoppingStreetGoodsByCommander(ctx context.Context, commanderID int64) error {
	_, err := q.db.Exec(ctx, deleteShoppingStreetGoodsByCommander, commanderID)
	return err
}

const getArenaShopState = `-- name: GetArenaShopState :one

SELECT commander_id, flash_count, last_refresh_time, next_flash_time
FROM arena_shop_states
WHERE commander_id = $1
`

// Arena shop
func (q *Queries) GetArenaShopState(ctx context.Context, commanderID int64) (ArenaShopState, error) {
	row := q.db.QueryRow(ctx, getArenaShopState, commanderID)
	var i ArenaShopState
	err := row.Scan(
		&i.CommanderID,
		&i.FlashCount,
		&i.LastRefreshTime,
		&i.NextFlashTime,
	)
	return i, err
}

const getGuildShopState = `-- name: GetGuildShopState :one

SELECT commander_id, refresh_count, next_refresh_time
FROM guild_shop_states
WHERE commander_id = $1
`

// Guild shop
func (q *Queries) GetGuildShopState(ctx context.Context, commanderID int64) (GuildShopState, error) {
	row := q.db.QueryRow(ctx, getGuildShopState, commanderID)
	var i GuildShopState
	err := row.Scan(&i.CommanderID, &i.RefreshCount, &i.NextRefreshTime)
	return i, err
}

const getMedalShopState = `-- name: GetMedalShopState :one

SELECT commander_id, next_refresh_time
FROM medal_shop_states
WHERE commander_id = $1
`

// Medal shop
func (q *Queries) GetMedalShopState(ctx context.Context, commanderID int64) (MedalShopState, error) {
	row := q.db.QueryRow(ctx, getMedalShopState, commanderID)
	var i MedalShopState
	err := row.Scan(&i.CommanderID, &i.NextRefreshTime)
	return i, err
}

const getMiniGameShopState = `-- name: GetMiniGameShopState :one

SELECT commander_id, next_refresh_time
FROM mini_game_shop_states
WHERE commander_id = $1
`

// Mini-game shop
func (q *Queries) GetMiniGameShopState(ctx context.Context, commanderID int64) (MiniGameShopState, error) {
	row := q.db.QueryRow(ctx, getMiniGameShopState, commanderID)
	var i MiniGameShopState
	err := row.Scan(&i.CommanderID, &i.NextRefreshTime)
	return i, err
}

const getShoppingStreetState = `-- name: GetShoppingStreetState :one

SELECT commander_id, level, next_flash_time, level_up_time, flash_count
FROM shopping_street_states
WHERE commander_id = $1
`

// Shopping street
func (q *Queries) GetShoppingStreetState(ctx context.Context, commanderID int64) (ShoppingStreetState, error) {
	row := q.db.QueryRow(ctx, getShoppingStreetState, commanderID)
	var i ShoppingStreetState
	err := row.Scan(
		&i.CommanderID,
		&i.Level,
		&i.NextFlashTime,
		&i.LevelUpTime,
		&i.FlashCount,
	)
	return i, err
}

const listGuildShopGoodsByCommander = `-- name: ListGuildShopGoodsByCommander :many
SELECT commander_id, index, goods_id, count
FROM guild_shop_goods
WHERE commander_id = $1
ORDER BY index ASC
`

func (q *Queries) ListGuildShopGoodsByCommander(ctx context.Context, commanderID int64) ([]GuildShopGood, error) {
	rows, err := q.db.Query(ctx, listGuildShopGoodsByCommander, commanderID)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []GuildShopGood
	for rows.Next() {
		var i GuildShopGood
		if err := rows.Scan(
			&i.CommanderID,
			&i.Index,
			&i.GoodsID,
			&i.Count,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listMedalShopGoodsByCommander = `-- name: ListMedalShopGoodsByCommander :many
SELECT commander_id, index, goods_id, count
FROM medal_shop_goods
WHERE commander_id = $1
ORDER BY index ASC
`

func (q *Queries) ListMedalShopGoodsByCommander(ctx context.Context, commanderID int64) ([]MedalShopGood, error) {
	rows, err := q.db.Query(ctx, listMedalShopGoodsByCommander, commanderID)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []MedalShopGood
	for rows.Next() {
		var i MedalShopGood
		if err := rows.Scan(
			&i.CommanderID,
			&i.Index,
			&i.GoodsID,
			&i.Count,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listMiniGameShopGoodsByCommander = `-- name: ListMiniGameShopGoodsByCommander :many
SELECT commander_id, goods_id, count
FROM mini_game_shop_goods
WHERE commander_id = $1
ORDER BY goods_id ASC
`

func (q *Queries) ListMiniGameShopGoodsByCommander(ctx context.Context, commanderID int64) ([]MiniGameShopGood, error) {
	rows, err := q.db.Query(ctx, listMiniGameShopGoodsByCommander, commanderID)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []MiniGameShopGood
	for rows.Next() {
		var i MiniGameShopGood
		if err := rows.Scan(&i.CommanderID, &i.GoodsID, &i.Count); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listShopOffersByGenre = `-- name: ListShopOffersByGenre :many
SELECT id, effects, effect_args, number, resource_number, resource_id, type, genre, discount
FROM shop_offers
WHERE genre = $1
`

func (q *Queries) ListShopOffersByGenre(ctx context.Context, genre string) ([]ShopOffer, error) {
	rows, err := q.db.Query(ctx, listShopOffersByGenre, genre)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []ShopOffer
	for rows.Next() {
		var i ShopOffer
		if err := rows.Scan(
			&i.ID,
			&i.Effects,
			&i.EffectArgs,
			&i.Number,
			&i.ResourceNumber,
			&i.ResourceID,
			&i.Type,
			&i.Genre,
			&i.Discount,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listShopOffersByIDsAndGenre = `-- name: ListShopOffersByIDsAndGenre :many
SELECT id, effects, effect_args, number, resource_number, resource_id, type, genre, discount
FROM shop_offers
WHERE genre = $1
  AND id = ANY($2::bigint[])
`

type ListShopOffersByIDsAndGenreParams struct {
	Genre   string
	Column2 []int64
}

func (q *Queries) ListShopOffersByIDsAndGenre(ctx context.Context, arg ListShopOffersByIDsAndGenreParams) ([]ShopOffer, error) {
	rows, err := q.db.Query(ctx, listShopOffersByIDsAndGenre, arg.Genre, arg.Column2)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []ShopOffer
	for rows.Next() {
		var i ShopOffer
		if err := rows.Scan(
			&i.ID,
			&i.Effects,
			&i.EffectArgs,
			&i.Number,
			&i.ResourceNumber,
			&i.ResourceID,
			&i.Type,
			&i.Genre,
			&i.Discount,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listShoppingStreetGoodsByCommander = `-- name: ListShoppingStreetGoodsByCommander :many
SELECT commander_id, goods_id, discount, buy_count
FROM shopping_street_goods
WHERE commander_id = $1
ORDER BY goods_id ASC
`

func (q *Queries) ListShoppingStreetGoodsByCommander(ctx context.Context, commanderID int64) ([]ShoppingStreetGood, error) {
	rows, err := q.db.Query(ctx, listShoppingStreetGoodsByCommander, commanderID)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []ShoppingStreetGood
	for rows.Next() {
		var i ShoppingStreetGood
		if err := rows.Scan(
			&i.CommanderID,
			&i.GoodsID,
			&i.Discount,
			&i.BuyCount,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const updateArenaShopState = `-- name: UpdateArenaShopState :exec
UPDATE arena_shop_states
SET flash_count = $2,
    last_refresh_time = $3,
    next_flash_time = $4
WHERE commander_id = $1
`

type UpdateArenaShopStateParams struct {
	CommanderID     int64
	FlashCount      int64
	LastRefreshTime int64
	NextFlashTime   int64
}

func (q *Queries) UpdateArenaShopState(ctx context.Context, arg UpdateArenaShopStateParams) error {
	_, err := q.db.Exec(ctx, updateArenaShopState,
		arg.CommanderID,
		arg.FlashCount,
		arg.LastRefreshTime,
		arg.NextFlashTime,
	)
	return err
}

const updateGuildShopState = `-- name: UpdateGuildShopState :exec
UPDATE guild_shop_states
SET refresh_count = $2,
    next_refresh_time = $3
WHERE commander_id = $1
`

type UpdateGuildShopStateParams struct {
	CommanderID     int64
	RefreshCount    int64
	NextRefreshTime int64
}

func (q *Queries) UpdateGuildShopState(ctx context.Context, arg UpdateGuildShopStateParams) error {
	_, err := q.db.Exec(ctx, updateGuildShopState, arg.CommanderID, arg.RefreshCount, arg.NextRefreshTime)
	return err
}

const updateMedalShopState = `-- name: UpdateMedalShopState :exec
UPDATE medal_shop_states
SET next_refresh_time = $2
WHERE commander_id = $1
`

type UpdateMedalShopStateParams struct {
	CommanderID     int64
	NextRefreshTime int64
}

func (q *Queries) UpdateMedalShopState(ctx context.Context, arg UpdateMedalShopStateParams) error {
	_, err := q.db.Exec(ctx, updateMedalShopState, arg.CommanderID, arg.NextRefreshTime)
	return err
}

const updateMiniGameShopState = `-- name: UpdateMiniGameShopState :exec
UPDATE mini_game_shop_states
SET next_refresh_time = $2
WHERE commander_id = $1
`

type UpdateMiniGameShopStateParams struct {
	CommanderID     int64
	NextRefreshTime int64
}

func (q *Queries) UpdateMiniGameShopState(ctx context.Context, arg UpdateMiniGameShopStateParams) error {
	_, err := q.db.Exec(ctx, updateMiniGameShopState, arg.CommanderID, arg.NextRefreshTime)
	return err
}

const updateShoppingStreetStateRefresh = `-- name: UpdateShoppingStreetStateRefresh :exec
UPDATE shopping_street_states
SET next_flash_time = $2,
    flash_count = $3
WHERE commander_id = $1
`

type UpdateShoppingStreetStateRefreshParams struct {
	CommanderID   int64
	NextFlashTime int64
	FlashCount    int64
}

func (q *Queries) UpdateShoppingStreetStateRefresh(ctx context.Context, arg UpdateShoppingStreetStateRefreshParams) error {
	_, err := q.db.Exec(ctx, updateShoppingStreetStateRefresh, arg.CommanderID, arg.NextFlashTime, arg.FlashCount)
	return err
}
