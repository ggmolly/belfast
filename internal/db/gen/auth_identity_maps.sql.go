// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.28.0
// source: auth_identity_maps.sql

package gen

import (
	"context"
)

const createYostarusMap = `-- name: CreateYostarusMap :exec

INSERT INTO yostarus_maps (arg2, account_id)
VALUES ($1, $2)
`

type CreateYostarusMapParams struct {
	Arg2      int64
	AccountID int64
}

// Account identity map queries
func (q *Queries) CreateYostarusMap(ctx context.Context, arg CreateYostarusMapParams) error {
	_, err := q.db.Exec(ctx, createYostarusMap, arg.Arg2, arg.AccountID)
	return err
}

const getDeviceAuthMapByDeviceID = `-- name: GetDeviceAuthMapByDeviceID :one
SELECT device_id, arg2, account_id, updated_at
FROM device_auth_maps
WHERE device_id = $1
`

func (q *Queries) GetDeviceAuthMapByDeviceID(ctx context.Context, deviceID string) (DeviceAuthMap, error) {
	row := q.db.QueryRow(ctx, getDeviceAuthMapByDeviceID, deviceID)
	var i DeviceAuthMap
	err := row.Scan(
		&i.DeviceID,
		&i.Arg2,
		&i.AccountID,
		&i.UpdatedAt,
	)
	return i, err
}

const getYostarusMapByArg2 = `-- name: GetYostarusMapByArg2 :one
SELECT arg2, account_id
FROM yostarus_maps
WHERE arg2 = $1
`

func (q *Queries) GetYostarusMapByArg2(ctx context.Context, arg2 int64) (YostarusMap, error) {
	row := q.db.QueryRow(ctx, getYostarusMapByArg2, arg2)
	var i YostarusMap
	err := row.Scan(&i.Arg2, &i.AccountID)
	return i, err
}

const upsertDeviceAuthMap = `-- name: UpsertDeviceAuthMap :exec
INSERT INTO device_auth_maps (device_id, arg2, account_id, updated_at)
VALUES ($1, $2, $3, now())
ON CONFLICT (device_id)
DO UPDATE SET
  arg2 = EXCLUDED.arg2,
  account_id = EXCLUDED.account_id,
  updated_at = now()
`

type UpsertDeviceAuthMapParams struct {
	DeviceID  string
	Arg2      int64
	AccountID int64
}

func (q *Queries) UpsertDeviceAuthMap(ctx context.Context, arg UpsertDeviceAuthMapParams) error {
	_, err := q.db.Exec(ctx, upsertDeviceAuthMap, arg.DeviceID, arg.Arg2, arg.AccountID)
	return err
}
